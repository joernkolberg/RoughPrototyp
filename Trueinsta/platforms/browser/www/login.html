<!DOCTYPE html>
<html>
<head>
<title>True Insta - Login</title>
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
<link rel="stylesheet" type="text/css" href="css/index.css"/>
<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
<script src="js/jquery-1.8.3.js"></script>
<script type="text/javascript" charset="utf-8">
  $(document).ready(function(){
    $("#submit").click(authenticateUser);
  });
  function authenticateUser(){
    console.log("Entering authenticateUser()");
    $.post
	(
		"http://localhost:8080/RoughServices/rest/authenticate",
		$("#loginForm :input").serializeArray(), 
		function(json)
		{
		  if(json== null || json == 'undefined')
		  {
			alert("Authentication failed");
			}
		  else
		  {
			window.localStorage.setItem("loggedIn", 1);
		  	window.location.href = 'app.html';
		 }
		}
	);
    return false;
  }
</script>
</head>
<body class="ui-page">
<div id="headline" class="title"></div>
<div id="register" class="hyperlinks">
  <h3>Login</h3>
  <form id="loginForm">
    <table>
	  <tr>
        <td>Email</td>
        <td><input type="text" name="email" /></td>
      </tr>
      <tr>
        <td>Password</td>
        <td><input type="password" name="password" /></td>
      </tr>
      
      <tr>
        <td><input type="submit" id="submit" name="submit" value="Submit" /></td>
      </tr>
    </table>
  </form>
  </div>
</body>
</html>